"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Chat=function(){function e(){_classCallCheck(this,e),this.isShowSmile=!0,this.inputLength=0,this.inputText="",this.listeners(),this.showHideSmile(),this.inputLengthShow(),this.scrollToBottom()}return _createClass(e,[{key:"listeners",value:function(){var e=this;document.querySelector(".add-message").onsubmit=function(e){return!1},document.querySelector(".add-message input[type=text]").oninput=function(t){e.onInput(t)},document.querySelector(".add-message input[type=submit]").onclick=function(t){e.addMess()},document.querySelector(".add-message button").onclick=function(t){console.log(t),e.showHideSmile()}}},{key:"showHideSmile",value:function(){this.isShowSmile=!this.isShowSmile,document.querySelector(".smilies-container").style.display=this.isShowSmile?"block":"none"}},{key:"addSmile",value:function(e){this.inputText+="::"+e+"::",document.querySelector(".add-message input[type=text]").value=this.inputText,this.onPastSmile()}},{key:"textToSmile",value:function(e){{var t=e;["cool","crying","girl","happy","kiss","muted","nervous","sad","sick","surprised","tongue","wink"].forEach(function(e,n,i){var s=t.search("::"+e+"::");-1!==s&&(console.log(e),t=t.substr(0,s)+('<img src="./img/smilies/'+e+'.svg">')+t.substr(s+("::"+e+"::").length))})}return t}},{key:"onInput",value:function(e){this.inputLength=e.target.value.toString().length,this.inputText=e.target.value.toString(),this.inputLengthShow()}},{key:"onPastSmile",value:function(){var e=document.querySelector(".add-message input[type=text]");this.inputLength=e.value.length,this.inputText=e.value.toString(),this.inputLengthShow()}},{key:"inputLengthShow",value:function(){document.querySelector(".length span").innerHTML=this.inputLength}},{key:"scrollToBottom",value:function(){var e=document.querySelector(".show-message");e.scrollTop=e.scrollHeight}},{key:"addMess",value:function(){if(this.inputLength>0){var e=document.createElement("div"),t=this.textToSmile(this.inputText);e.classList+="mess",e.innerHTML='\n                <div class="left">\n                    <div style="background-image: url(./img/avatars/anonim.jpg);" class="ava"></div>\n                </div>\n                <div class="right">\n                    <div class="name">Незарегистрированный пользователь </div><div class="text">'+t+"</div>\n                </div>\n            ",document.querySelector(".show-message-container").appendChild(e),this.scrollToBottom(),this.inputLength=0,this.inputText="",document.querySelector(".add-message input[type=text]").value="",this.inputLengthShow()}}}]),e}(),chat=new Chat;